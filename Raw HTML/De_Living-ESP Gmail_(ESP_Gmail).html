
   <h2>[Titel]</h2>
   <p>[tekst]</p>
   <p><br />
    </p>
   <div>
       <pre><code><span style="color: #5e6d03;">#include</span> <span style="color: #434f54;">&lt;</span><b><span style="color: #d35400;">WiFiClientSecure</span></b><span style="color: #434f54;">.</span><span style="color: #000000;">h</span><span style="color: #434f54;">&gt;</span> &nbsp;&nbsp;<span style="color: #434f54;">// Include the HTTPS library</span>
<span style="color: #5e6d03;">#include</span> <span style="color: #434f54;">&lt;</span><span style="color: #d35400;">ESP8266WiFi</span><span style="color: #434f54;">.</span><span style="color: #000000;">h</span><span style="color: #434f54;">&gt;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// Include the Wi-Fi library</span>
<span style="color: #5e6d03;">#include</span> <span style="color: #434f54;">&lt;</span><span style="color: #000000;">ESP8266WiFiMulti</span><span style="color: #434f54;">.</span><span style="color: #000000;">h</span><span style="color: #434f54;">&gt;</span> &nbsp;&nbsp;<span style="color: #434f54;">// Include the Wi-Fi-Multi library</span>

<span style="color: #000000;">ESP8266WiFiMulti</span> <span style="color: #000000;">wifiMulti</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// Create an instance of the ESP8266WiFiMulti class, called 'wifiMulti'</span>

<span style="color: #00979c;">const</span> <span style="color: #00979c;">char</span><span style="color: #434f54;">*</span> <span style="color: #000000;">host</span> <span style="color: #434f54;">=</span> <span style="color: #005c5f;">"mail.google.com"</span><span style="color: #000000;">;</span> <span style="color: #434f54;">// the Gmail server</span>
<span style="color: #00979c;">const</span> <span style="color: #00979c;">int</span> <span style="color: #000000;">httpsPort</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">443</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// the port to connect to the email server</span>

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// The SHA-1 fingerprint of the SSL certificate for the Gmail server (see below)</span>
<span style="color: #00979c;">const</span> <span style="color: #00979c;">char</span><span style="color: #434f54;">*</span> <span style="color: #000000;">fingerprint</span> <span style="color: #434f54;">=</span> <span style="color: #005c5f;">"3C 30 52 70 0C B8 BA AF 0E 16 9A FA 50 01 79 0A 0F 74 35 81"</span><span style="color: #000000;">;</span>

 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// The Base64 encoded version of your Gmail login credentials (see below)</span>
<span style="color: #00979c;">const</span> <span style="color: #00979c;">char</span><span style="color: #434f54;">*</span> <span style="color: #000000;">credentials</span> <span style="color: #434f54;">=</span> <span style="color: #005c5f;">"aVeryLongStringOfBase64EncodedCharacters="</span><span style="color: #000000;">;</span>

<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">setup</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">begin</span><span style="color: #000000;">(</span><span style="color: #000000;">115200</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// Start the Serial communication to send messages to the computer</span>
 &nbsp;<span style="color: #d35400;">delay</span><span style="color: #000000;">(</span><span style="color: #000000;">10</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #00979c;">'\n'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<span style="color: #000000;">wifiMulti</span><span style="color: #434f54;">.</span><span style="color: #000000;">addAP</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"ssid_from_AP_1"</span><span style="color: #434f54;">,</span> <span style="color: #005c5f;">"</span><span style="color: rgb(0, 92, 95); font-size: 13px;">your_password_for_AP_1</span><span style="color: #005c5f;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;<span style="color: #434f54;">// add Wi-Fi networks you want to connect to</span>
 &nbsp;<span style="color: #000000;">wifiMulti</span><span style="color: #434f54;">.</span><span style="color: #000000;">addAP</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"ssid_from_AP_2"</span><span style="color: #434f54;">,</span> <span style="color: #005c5f;">"your_password_for_AP_2"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #000000;">wifiMulti</span><span style="color: #434f54;">.</span><span style="color: #000000;">addAP</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"ssid_from_AP_3"</span><span style="color: #434f54;">,</span> <span style="color: #005c5f;">"your_password_for_AP_3"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Connecting ..."</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #00979c;">int</span> <span style="color: #000000;">i</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">0</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #5e6d03;">while</span> <span style="color: #000000;">(</span><span style="color: #000000;">wifiMulti</span><span style="color: #434f54;">.</span><span style="color: #d35400;">run</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #434f54;">!=</span> <span style="color: #000000;">WL_CONNECTED</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span> <span style="color: #434f54;">// Wait for the Wi-Fi to connect: scan for Wi-Fi networks, and connect to the strongest of the networks above</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #d35400;">delay</span><span style="color: #000000;">(</span><span style="color: #000000;">1000</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #434f54;">++</span><span style="color: #000000;">i</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> <b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #00979c;">' '</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #000000;">}</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #00979c;">'\n'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Connected to "</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><b><span style="color: #d35400;">WiFi</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">SSID</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// Tell us what network we're connected to</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"IP address:\t"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><b><span style="color: #d35400;">WiFi</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">localIP</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// Send the IP address of the ESP8266 to the computer</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #00979c;">'\n'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">loop</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
 &nbsp;<span style="color: #00979c;">int</span> <span style="color: #000000;">unread</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">getUnread</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #5e6d03;">if</span> <span style="color: #000000;">(</span><span style="color: #000000;">unread</span> <span style="color: #434f54;">==</span> <span style="color: #000000;">0</span><span style="color: #000000;">)</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"\r\nYou've got no unread emails"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #5e6d03;">else</span> <span style="color: #5e6d03;">if</span> <span style="color: #000000;">(</span><span style="color: #000000;">unread</span> <span style="color: #434f54;">&gt;</span> <span style="color: #000000;">0</span><span style="color: #000000;">)</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">printf</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"\r\nYou've got %d new messages\r\n"</span><span style="color: #434f54;">,</span> <span style="color: #000000;">unread</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #5e6d03;">else</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Could not get unread mails"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #00979c;">'\n'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #d35400;">delay</span><span style="color: #000000;">(</span><span style="color: #000000;">5000</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #00979c;">int</span> <span style="color: #000000;">getUnread</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span> &nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// a function to get the number of unread emails in your Gmail inbox</span>
 &nbsp;<b><span style="color: #d35400;">WiFiClientSecure</span></b> <span style="color: #d35400;">client</span><span style="color: #000000;">;</span> <span style="color: #434f54;">// Use WiFiClientSecure class to create TLS (HTTPS) connection</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">printf</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Connecting to %s:%d ... \r\n"</span><span style="color: #434f54;">,</span> <span style="color: #000000;">host</span><span style="color: #434f54;">,</span> <span style="color: #000000;">httpsPort</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #5e6d03;">if</span> <span style="color: #000000;">(</span><span style="color: #434f54;">!</span><span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">connect</span><span style="color: #000000;">(</span><span style="color: #000000;">host</span><span style="color: #434f54;">,</span> <span style="color: #000000;">httpsPort</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Connection failed"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #5e6d03;">return</span> <span style="color: #434f54;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #000000;">}</span>

 &nbsp;<span style="color: #5e6d03;">if</span> <span style="color: #000000;">(</span><span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #000000;">verify</span><span style="color: #000000;">(</span><span style="color: #000000;">fingerprint</span><span style="color: #434f54;">,</span> <span style="color: #000000;">host</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span> &nbsp;&nbsp;<span style="color: #434f54;">// Check the SHA-1 fingerprint of the SSL certificate</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Certificate matches"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #000000;">}</span> <span style="color: #5e6d03;">else</span> <span style="color: #000000;">{</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// if it doesn't match, it's not safe to continue</span>
 &nbsp;&nbsp;&nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Certificate doesn't match"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #5e6d03;">return</span> <span style="color: #434f54;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">;</span>
 &nbsp;<span style="color: #000000;">}</span>

 &nbsp;<span style="color: #00979c;">String</span> <span style="color: #000000;">url</span> <span style="color: #434f54;">=</span> <span style="color: #005c5f;">"/mail/feed/atom"</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Requesting URL: "</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #000000;">url</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">print</span><span style="color: #000000;">(</span><span style="color: #00979c;">String</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"GET "</span><span style="color: #000000;">)</span> <span style="color: #434f54;">+</span> <span style="color: #000000;">url</span> <span style="color: #434f54;">+</span> <span style="color: #005c5f;">" HTTP/1.1\r\n"</span> <span style="color: #434f54;">+</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #005c5f;">"Host: "</span> <span style="color: #434f54;">+</span> <span style="color: #000000;">host</span> <span style="color: #434f54;">+</span> <span style="color: #005c5f;">"\r\n"</span> <span style="color: #434f54;">+</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #005c5f;">"Authorization: Basic "</span> <span style="color: #434f54;">+</span> <span style="color: #000000;">credentials</span> <span style="color: #434f54;">+</span> <span style="color: #005c5f;">"\r\n"</span> <span style="color: #434f54;">+</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #005c5f;">"User-Agent: ESP8266\r\n"</span> <span style="color: #434f54;">+</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #005c5f;">"Connection: close\r\n\r\n"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Request sent"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<span style="color: #00979c;">int</span> <span style="color: #000000;">unread</span> <span style="color: #434f54;">=</span> <span style="color: #434f54;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">;</span>

 &nbsp;<span style="color: #5e6d03;">while</span> <span style="color: #000000;">(</span><span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">connected</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// the response is in XML format</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">readStringUntil</span><span style="color: #000000;">(</span><span style="color: #00979c;">'&lt;'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// read until the first XML tag</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #00979c;">String</span> <span style="color: #000000;">tagname</span> <span style="color: #434f54;">=</span> <span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">readStringUntil</span><span style="color: #000000;">(</span><span style="color: #00979c;">'&gt;'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// read until the end of this tag to get the tag name</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #5e6d03;">if</span> <span style="color: #000000;">(</span><span style="color: #000000;">tagname</span> <span style="color: #434f54;">==</span> <span style="color: #005c5f;">"fullcount"</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// if the tag is &lt;fullcount&gt;, the next string will be the nubmer of unread emails</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #00979c;">String</span> <span style="color: #000000;">unreadStr</span> <span style="color: #434f54;">=</span> <span style="color: #d35400;">client</span><span style="color: #434f54;">.</span><span style="color: #d35400;">readStringUntil</span><span style="color: #000000;">(</span><span style="color: #00979c;">'&lt;'</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;<span style="color: #434f54;">// read until the closing tag (&lt;/fullcount&gt;)</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #000000;">unread</span> <span style="color: #434f54;">=</span> <span style="color: #000000;">unreadStr</span><span style="color: #434f54;">.</span><span style="color: #d35400;">toInt</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// convert from String to int</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #5e6d03;">break</span><span style="color: #000000;">;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// stop reading</span>
 &nbsp;&nbsp;&nbsp;<span style="color: #000000;">}</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #434f54;">// if the tag is not &lt;fullcount&gt;, repeat and read the next tag</span>
 &nbsp;<span style="color: #000000;">}</span>
 &nbsp;<b><span style="color: #d35400;">Serial</span></b><span style="color: #434f54;">.</span><span style="color: #d35400;">println</span><span style="color: #000000;">(</span><span style="color: #005c5f;">"Connection closed"</span><span style="color: #000000;">)</span><span style="color: #000000;">;</span>

 &nbsp;<span style="color: #5e6d03;">return</span> <span style="color: #000000;">unread</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>


<span style="color: #95a5a6;">/*</span>
<span style="color: #95a5a6;"> * # How to get the SHA-1 fingerprint for the Gmail server?</span>
<span style="color: #95a5a6;"> * </span>
<span style="color: #95a5a6;"> * &nbsp;&nbsp;Use the following command in a terminal window:</span>
<span style="color: #95a5a6;"> * </span>
<span style="color: #95a5a6;"> * &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;openssl s_client -connect mail.google.com:443 &lt; /dev/null 2&gt;/dev/null | openssl x509 -fingerprint -noout -in /dev/stdin | sed 's/:/ /g'</span>
<span style="color: #95a5a6;"> * &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<span style="color: #95a5a6;"> * # How to encode your credentials to Base64?</span>
<span style="color: #95a5a6;"> * </span>
<span style="color: #95a5a6;"> * &nbsp;&nbsp;Use the following command in a terminal window:</span>
<span style="color: #95a5a6;"> * </span>
<span style="color: #95a5a6;"> * &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo -n "email.address@gmail.com:password" | base64</span>
<span style="color: #95a5a6;"> */</span>
</code></pre>
   </div>
   <p><br />
    </p>
   <div>
       <pre>openssl s_client -connect mail.google.com:443 &lt; /dev/null 2&gt;/dev/null | openssl x509 -fingerprint -noout -in /dev/stdin | sed 's/:/ /g'</pre>
   </div>
   <div>
       <pre><br /></pre>
   </div>
   <div>
       <div>
            <span style="font-family: monospace;"><span style="font-size: 13px; white-space: pre-wrap; background-color: rgb(245, 245, 245);">echo -n "email.address@gmail.com:password" | base64</span></span>
       </div>
   </div>
   <div>
        <br />
   </div>
    